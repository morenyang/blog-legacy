<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <title>跟Box-Sizing有关的东西 | Moren&#39;s</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, maximum-scale=1">
    <link rel="apple-touch-icon" sizes="144x144" href="/favicon.png">
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.4.1/dist/gitalk.css" integrity="sha256-4uFBneYzpMnNUfY7h9Zeiw6uazKIWM9RGXSJqtl6Z/8=" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/style.css"> 
</head>

<body>
<main class="post">
    
<article>

    <nav class="navbar">
    <div class="layout">
        <div class="content">
            
            
            <a href="/.">Home</a>
            
            
            
            <a href="/archives">Archive</a>
            
            
            
            <a href="//yangteng.me">About</a>
            
            
        </div>
    </div>
 </nav>
    
    <div class="header-wrapper">
    
        <header class="article-header">
    
            <div class="placeholder"></div>
            <h1 class="article-title">
                <a href="/2017/20170325css-boxsizing/">
                    跟Box-Sizing有关的东西
                </a>
            </h1>

            <div class="article-meta">
                <p class="article-date">
                    Posted March 25 2017
                </p>
            
        </div></header>
    </div>

    <section class="article-entry">
        <p>那天和大神谈笑风生，他给我发来了一个截图，内容大概是这样的</p>
<blockquote>
<p>大神：</p>
<ul>
<li>比如你写了一个div宽度400px</li>
<li>你加了一个border和padding各10px以后</li>
<li>根据w3c美丽的盒模型</li>
<li>你的div宽度变440px了</li>
</ul>
<p>我：</p>
<ul>
<li>不对啊明明是360px</li>
</ul>
<p>大神：</p>
<ul>
<li>不不不默认的content-box</li>
</ul>
<p>我的内心：</p>
<ul>
<li>默认的不是border-box吗你别骗我</li>
</ul>
</blockquote>
<p>毕竟以前在上网页设计课的时候，拿盒模型出来计算内容区域的大小是我最烦心的事情。在我平时打代码的印象里，盒模型默认用的都是<code>border-box</code>，突然跑出来一个<code>content-box</code>就让我百思不得其解…</p>
<p>于是我Google了一下，<strong>发现特么的默认的还真是<code>content-box</code></strong></p>
<p><img src="http://morensblog-static.tengtengtengteng.com/img/post/20170325css-box-sizing-1.png" alt=""></p>
<p>然后我又打开了自己以前写过的页面，仔细追查了一下，发现原来这个原因出现在bootstrap中将盒模型默认指定成了<code>border-box</code>。</p>
<p>既然都说到这了，那也就顺便说一下<code>content-box</code>和<code>border-box</code>之间的差别。</p>
<h3>content-box</h3>
<p>官方给出的说明是</p>
<blockquote>
<p>这是CSS标准规定的初始值和默认值。 宽度和高度属性，仅包括内容，但不包括填充(padding)，边框(border)或边距(margin)。</p>
</blockquote>
<p>也就是说，在CSS中定义的宽度和高度属性，是从<strong>padding</strong>和真实的<strong>content</strong>分界处开始计算的。而这个盒子最终宽度和高度应该是</p>
<p><strong>width(height) + padding(上下或左右之和) + border(上下或左右之和) + margin(上下或左右之和)</strong></p>
<p>假定我们赋予它这样的属性：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">element</span><span class="selector-class">.style</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">250px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">10px</span> solid <span class="number">#000</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">box-sizing</span>: content-box;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>则它计算后的大小是这样的：
<img src="http://morensblog-static.tengtengtengteng.com/img/post/20170325css-box-sizing-5.png" alt=""></p>
<h3>border-box</h3>
<p>官方给出的说明：</p>
<blockquote>
<p>宽度和高度属性包括内容，填充(padding)和边框(border)，但不包括边距(margin)。</p>
</blockquote>
<p>也就是说，我们在CSS中定义的宽度和高度属性，是从<strong>border和margin的分界处</strong>开始计算的，那么这个盒子模型的最终宽度或高度应该是</p>
<p><strong>width(height) + margin(上下或左右之和)</strong></p>
<p>而内容可以占用的位置为</p>
<p><strong>wdith(height) - border(上下或左右之和) - padding(上下或左右之和)</strong></p>
<p>我们现在把刚才那个盒子的模型改为border-box：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">element</span><span class="selector-class">.style</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">250px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">10px</span> solid <span class="number">#000</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>则计算出的大小为
<img src="http://morensblog-static.tengtengtengteng.com/img/post/20170325css-box-sizing-4.png" alt=""></p>
<h2>另外</h2>
<p>其实<code>border-box</code>这个属性值是有一些来历的，有兴趣的可以去百度一下。对比一下这两种属性值，究竟谁好谁坏也并不好下定论，个人比较认可<code>border-box</code>，毕竟用起来比较方便一些。关于这个知乎上也有一些讨论，<a href="https://www.zhihu.com/question/20691294" target="_blank" rel="noopener">可以点这里去看看</a>。</p>
<p>当然如果要用<code>border-box</code>属性的时候，最好是像BS那样将模型全局设定，否则排版的时候容易出现一些问题。</p>
<p>参考文档</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing" target="_blank" rel="noopener">box-sizing - CSS | MDN</a></li>
<li><a href="http://www.w3school.com.cn/cssref/pr_box-sizing.asp" target="_blank" rel="noopener">CSS3 box-sizing 属性</a></li>
</ul>

    </section>
    
    <section class="article-comments">
        <div id="gitalk-container"></div>
    </section>
    
    <script src="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js" crossorigin="anonymous"></script>
    <script>
        var gitalk = new Gitalk({
            clientID: '6911ddf87e5838ca7da0',
            clientSecret: 'c8b78dec8b54f7009dbd6cce41d42d19eeb0f627',
            id: (window.location.pathname + '').substring(0,50),
            repo: 'blog',
            owner: 'morenyang',
            admin: 'morenyang',
            distractionFreeMode: false
        })
    
        gitalk.render('gitalk-container')
    </script>
</article>

</main>
<footer class="footer">
    <p>Powered by Moren YANG&nbsp;&nbsp;-&nbsp;&nbsp;ackn. <a href="https://hexo.io"> Hexo </a></p>
</footer>

</body>
</html>